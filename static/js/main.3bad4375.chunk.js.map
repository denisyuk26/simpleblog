{"version":3,"sources":["js/components/Header/index.js","js/components/Footer/index.js","js/actions/index.js","js/containers/PostsList.js","js/containers/Comments.js","js/containers/Post.js","js/reducers/posts.reducer.js","js/store.js","js/index.js","index.js","js/containers/app.module.css"],"names":["Header","react_default","a","createElement","className","styles","header","Footer","footer","selectPost","post","type","data","localStorage","setItem","concat","id","getPosts","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","dispatch","response","posts","postsState","wrap","_context","prev","next","fetch","sent","json","abrupt","t0","console","log","stop","this","_x","apply","arguments","getPost","_ref2","_callee2","postState","_context2","getItem","_x2","PostsList","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","showPostsList","map","Link","key","to","post_item","onClick","author","title","state","app","container","Component","connect","bindActionCreators","CommentsList","getComments","comments","comment","body","date","Fragment","Post","getActivePost","Comments","active","initialState","store","createStore","combineReducers","length","undefined","action","toConsumableArray","applyMiddleware","logger","thunk","App","es","HashRouter","basename","process","Switch","Route","exact","path","component","ReactDOM","render","js","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.3bad4375.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport styles from \"./header.module.css\";\r\n\r\nexport default function Header() {\r\n  return <header className={styles.header}>blog header</header>;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./footer.module.css\";\r\nexport default function Footer() {\r\n  return <footer className={styles.footer}>blog footer</footer>;\r\n}\r\n","export const selectPost = post => {\r\n  const url  = localStorage.setItem(\"post\", `/posts/${post.id}`);\r\n  return {\r\n    type: \"SELECT_POST\",\r\n    data: url\r\n  };\r\n};\r\n\r\nexport const getPosts = () => async dispatch => {\r\n  try {\r\n    const response = await fetch(\"https://simple-blog-api.crew.red/posts\");\r\n    const posts = await response.json();\r\n    const postsState = dispatch({ type: \"FETCHING_POST_SUCCESS\", data: posts });\r\n    return postsState;\r\n  } catch (error) {\r\n    console.log('Oops, we can\\'t get posts, try reload the page',error);\r\n  }\r\n};\r\n\r\nexport const getPost = () => async dispatch => {\r\n  let id = localStorage.getItem(\"post\");\r\n  try {\r\n    const response = await fetch(\r\n      `https://simple-blog-api.crew.red${id}?_embed=comments`\r\n    );\r\n    const post = await response.json();\r\n    const postState = dispatch({ type: \"GET_POST\", data: post });\r\n    return postState;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { selectPost, getPosts } from \"../actions\";\r\n\r\nimport styles from \"./app.module.css\";\r\n\r\nclass PostsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getPosts();\r\n  }\r\n\r\n  showPostsList = () => {\r\n    return this.props.posts.map(post => (\r\n      <Link key={post.id} to={`/posts/${post.id}`}>\r\n        <li\r\n          className={styles.post_item}\r\n          onClick={() => this.props.selectPost(post)}\r\n        >\r\n          <p className={styles.author}>Author: {post.author}</p>\r\n          <p className={styles.title}>Title: {post.title}</p>\r\n        </li>\r\n      </Link>\r\n    ));\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={styles.app}>\r\n        <ul className={styles.container}>{this.showPostsList()}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    posts: state.posts,\r\n    post: state.post\r\n  };\r\n}\r\nfunction matchDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    { getPosts: getPosts, selectPost: selectPost },\r\n    dispatch\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  matchDispatchToProps\r\n)(PostsList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getPost } from \"../actions\";\r\nimport styles from \"./app.module.css\";\r\n\r\nclass CommentsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {\r\n    this.props.getPost();\r\n  }\r\n\r\n  getComments = () => {\r\n    if (this.props.post) {\r\n      return this.props.post.comments.map(comment => (\r\n        <div className={styles.comment} key={comment.id}>\r\n          <p>{comment.body}</p>\r\n          <p>{comment.date}</p>\r\n        </div>\r\n      ));\r\n    }\r\n    return null;\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <h2>Comments</h2>\r\n        {this.getComments()}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    post: state.post\r\n  };\r\n}\r\nfunction matchDispatchToProps(dispatch) {\r\n  return bindActionCreators({ getPost }, dispatch);\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  matchDispatchToProps\r\n)(CommentsList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { getPost } from \"../actions\";\r\nimport CommentList from \"./Comments\";\r\nimport styles from \"./app.module.css\";\r\n\r\nclass Post extends Component {\r\n  componentDidMount() {\r\n    this.props.getPost();\r\n  }\r\n\r\n  getActivePost = () => {\r\n    const { post } = this.props;\r\n    if (post) {\r\n      return (\r\n        <div key={post.id}>\r\n          <h3>{post.title}</h3>\r\n          <p>{post.body}</p>\r\n          <p>{post.author}</p>\r\n          <p>{post.date}</p>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.post}>\r\n        {this.getActivePost()}\r\n        <CommentList post={this.props.post} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    post: state.post,\r\n    active: state.active\r\n  };\r\n}\r\nfunction matchDispatchToProps(dispatch) {\r\n  return bindActionCreators({ getPost: getPost }, dispatch);\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  matchDispatchToProps\r\n)(Post);\r\n","const initialState = [];\r\n\r\nexport function postsFetch(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"FETCHING_POST_SUCCESS\":\r\n      return [...action.data];\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function selectPost(state = initialState, action) {\r\n  switch (action.type) {\r\n    case \"SELECT_POST\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function getPost(state = null, action) {\r\n  switch (action.type) {\r\n    case \"GET_POST\":\r\n      return action.data;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { postsFetch, getPost } from \"./reducers/posts.reducer\";\r\nimport logger from \"redux-logger\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    posts: postsFetch,\r\n    post: getPost,\r\n  }),\r\n  {},\r\n  applyMiddleware(logger, thunk)\r\n);\r\n\r\nexport default store;\r\n","import React, { Component } from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport PostsList from \"./containers/PostsList\";\r\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\r\nimport Post from \"./containers/Post\";\r\nimport store from \"./store\";\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Header />\r\n        <HashRouter basename={process.env.PUBLIC_URL}>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={PostsList} />\r\n            <Route exact path=\"/posts/:postId\" component={Post} />\r\n          </Switch>\r\n        </HashRouter>\r\n        <Footer />\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./js\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__3kx8j\",\"post\":\"app_post__3YL1S\",\"container\":\"app_container__nyHn4\",\"post_item\":\"app_post_item__3uCur\",\"author\":\"app_author__3D51-\",\"title\":\"app_title__2TLVB\",\"comment\":\"app_comment__1KhAw\"};"],"sourceRoot":""}