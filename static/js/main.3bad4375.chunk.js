(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},32:function(t,e,n){t.exports=n(45)},37:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),s=(n(37),n(7)),u=n(8),p=n(11),i=n(9),l=n(12),m=n(10),f=n(25),h=n.n(f);function b(){return r.a.createElement("header",{className:h.a.header},"blog header")}var d=n(26),v=n.n(d);function O(){return r.a.createElement("footer",{className:v.a.footer},"blog footer")}var E=n(5),j=n(46),_=n(14),g=n.n(_),y=n(20),w=function(t){return{type:"SELECT_POST",data:localStorage.setItem("post","/posts/".concat(t.id))}},P=function(){return function(){var t=Object(y.a)(g.a.mark(function t(e){var n,a,r;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://simple-blog-api.crew.red/posts");case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,r=e({type:"FETCHING_POST_SUCCESS",data:a}),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),console.log("Oops, we can't get posts, try reload the page",t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},k=function(){return function(){var t=Object(y.a)(g.a.mark(function t(e){var n,a,r,o;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("post"),t.prev=1,t.next=4,fetch("https://simple-blog-api.crew.red".concat(n,"?_embed=comments"));case 4:return a=t.sent,t.next=7,a.json();case 7:return r=t.sent,o=e({type:"GET_POST",data:r}),t.abrupt("return",o);case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[1,12]])}));return function(e){return t.apply(this,arguments)}}()},C=n(6),S=n.n(C),T=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(p.a)(this,Object(i.a)(e).call(this,t))).showPostsList=function(){return n.props.posts.map(function(t){return r.a.createElement(j.a,{key:t.id,to:"/posts/".concat(t.id)},r.a.createElement("li",{className:S.a.post_item,onClick:function(){return n.props.selectPost(t)}},r.a.createElement("p",{className:S.a.author},"Author: ",t.author),r.a.createElement("p",{className:S.a.title},"Title: ",t.title)))})},n.state={},n}return Object(l.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.getPosts()}},{key:"render",value:function(){return r.a.createElement("div",{className:S.a.app},r.a.createElement("ul",{className:S.a.container},this.showPostsList()))}}]),e}(a.Component);var x=Object(m.b)(function(t){return{posts:t.posts,post:t.post}},function(t){return Object(E.b)({getPosts:P,selectPost:w},t)})(T),N=n(47),I=n(49),A=n(48),L=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(p.a)(this,Object(i.a)(e).call(this,t))).getComments=function(){return n.props.post?n.props.post.comments.map(function(t){return r.a.createElement("div",{className:S.a.comment,key:t.id},r.a.createElement("p",null,t.body),r.a.createElement("p",null,t.date))}):null},n.state={},n}return Object(l.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.getPost()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Comments"),this.getComments())}}]),e}(a.Component);var D=Object(m.b)(function(t){return{post:t.post}},function(t){return Object(E.b)({getPost:k},t)})(L),G=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(p.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(o)))).getActivePost=function(){var t=n.props.post;if(t)return r.a.createElement("div",{key:t.id},r.a.createElement("h3",null,t.title),r.a.createElement("p",null,t.body),r.a.createElement("p",null,t.author),r.a.createElement("p",null,t.date))},n}return Object(l.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.getPost()}},{key:"render",value:function(){return r.a.createElement("div",{className:S.a.post},this.getActivePost(),r.a.createElement(D,{post:this.props.post}))}}]),e}(a.Component);var F=Object(m.b)(function(t){return{post:t.post,active:t.active}},function(t){return Object(E.b)({getPost:k},t)})(G),H=n(30),M=[];var B=n(27),J=n.n(B),U=n(28),K=Object(E.d)(Object(E.c)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCHING_POST_SUCCESS":return Object(H.a)(e.data);default:return t}},post:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_POST":return e.data;default:return t}}}),{},Object(E.a)(J.a,U.a)),V=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(m.a,{store:K},r.a.createElement(b,null),r.a.createElement(N.a,{basename:"/simpleblog"},r.a.createElement(I.a,null,r.a.createElement(A.a,{exact:!0,path:"/",component:x}),r.a.createElement(A.a,{exact:!0,path:"/posts/:postId",component:F}))),r.a.createElement(O,null))}}]),e}(a.Component);c.a.render(r.a.createElement(V,null),document.getElementById("root"))},6:function(t,e,n){t.exports={app:"app_app__3kx8j",post:"app_post__3YL1S",container:"app_container__nyHn4",post_item:"app_post_item__3uCur",author:"app_author__3D51-",title:"app_title__2TLVB",comment:"app_comment__1KhAw"}}},[[32,1,2]]]);
//# sourceMappingURL=main.3bad4375.chunk.js.map